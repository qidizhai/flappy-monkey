!function(t){var s={};function i(e){if(s[e])return s[e].exports;var h=s[e]={i:e,l:!1,exports:{}};return t[e].call(h.exports,h,h.exports,i),h.l=!0,h.exports}i.m=t,i.c=s,i.d=function(t,s,e){i.o(t,s)||Object.defineProperty(t,s,{enumerable:!0,get:e})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,s){if(1&s&&(t=i(t)),8&s)return t;if(4&s&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(i.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&s&&"string"!=typeof t)for(var h in t)i.d(e,h,function(s){return t[s]}.bind(null,h));return e},i.n=function(t){var s=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(s,"a",s),s},i.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)},i.p="",i(i.s=0)}([function(t,s,i){"use strict";i.r(s);var e=class{constructor(t){this.image=new Image,this.image.src=t.src,this.height=t.height,this.width=t.width,this.x_pos=t.x_pos,this.y_pos=t.y_pos,this.ctx=t.ctx,this.image.onload=(()=>{this.ctx.drawImage(this.image,this.x_pos,this.y_pos,this.width,this.height)})}update(t){t.drawImage(this.image,this.x_pos,this.y_pos,this.width,this.height)}collisionwith(t){var s=!0;return(this.x_pos+this.width<t.x_pos||this.x_pos>t.x_pos+t.width||this.y_pos+this.height<t.y_pos||this.y_pos>t.y_pos+t.height)&&(s=!1),0!==this.y_pos&&400!==this.y_pos||(s=!0),s}};var h=class{constructor(t){this.image=new Image,this.image2=new Image,this.image.src=t.src,this.image.src2=t.src2,this.height=t.height,this.width=t.width,this.x_pos=t.x_pos,this.y_pos=t.y_pos,this.ctx=t.ctx,this.image.onload=(()=>{this.ctx.drawImage(this.image,this.x_pos,this.y_pos,this.width,this.height)}),this.image2.onload=(()=>{this.ctx.drawImage(this.image2,this.x_pos-5,this.height,50,10)})}update(t){t.drawImage(this.image,this.x_pos,this.y_pos,this.width,this.height),t.drawImage(this.image2,this.x_pos-5,this.height,50,10)}};var o=class{constructor(t){this.image=new Image,this.image.src=t.src,this.height=t.height,this.width=t.width,this.x_pos=t.x_pos,this.y_pos=t.y_pos,this.ctx=t.ctx,this.image.onload=(()=>{this.ctx.drawImage(this.image,this.x_pos,this.y_pos,this.width,this.height)})}update(t){t.drawImage(this.image,this.x_pos,this.y_pos,this.width,this.height),t.drawImage(this.image,this.x_pos+this.width,this.y_pos,this.width,this.height)}move(){this.x_pos-=1,this.x_pos==-this.width&&(this.x_pos=0)}};var r=class{constructor(t,s){this.ctx=t,this.canvas=s,this.frameNo=0,this.count=0,this.flag=!1,this.score=0,this.dy=1,this.rightPressed=!1,this.monkey=new e({x_pos:50,y_pos:120,width:50,height:50,src:"./assets/images/flappy_monkey.png",ctx:this.ctx}),this.background=new o({x_pos:0,y_pos:0,width:700,height:450,src:"./assets/images/background.jpg",ctx:this.ctx}),this.pipes=[],this.intervalId=window.setInterval(this.updateGame.bind(this),10)}bindKeyHandlers(){key("up",()=>{this.rightPressed=!0}),key("down",()=>{this.rightPressed=!1})}keyDownHandler(t){39==t.keyCode&&(this.rightPressed=!0)}keyUpHandler(t){39==t.keyCode&&(this.rightPressed=!1)}drawScore(){this.ctx.font="16px Arial",this.ctx.fillStyle="#0095DD",this.ctx.fillText("Score: "+this.score,8,20)}updateGame(){this.bindKeyHandlers(),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.frameNo+=1,this.background.move(),this.background.update(this.ctx),this.renderPipes(),this.isGameover(),this.move_monkey(),this.move_pipes(),this.monkey.update(this.ctx),this.updateScore()}everyInterval(t){return this.frameNo%t==0}isGameover(){for(let t=0;t<this.pipes.length;t++)if(this.monkey.collisionwith(this.pipes[t]))return alert("GAME OVER"),void clearInterval(this.intervalId)}move_monkey(){this.rightPressed?this.monkey.y_pos-=this.dy:this.rightPressed||(this.monkey.y_pos+=this.dy)}move_pipes(){for(let t=0;t<this.pipes.length;t++)this.pipes[t].x_pos+=-1,this.pipes[t].update(this.ctx)}updateScore(){this.drawScore(),this.pipes[this.count].x_pos>=49&&this.pipes[this.count].x_pos<=50&&(!0===this.flag?(this.score+=1,this.flag=!1):this.flag=!0,this.count+=2)}renderPipe(t,s,i,e,o,r){this.pipes.push(new h({x_pos:t,y_pos:s,width:i,height:e,src:r,ctx:o}))}renderPipes(){if(1==this.frameNo||this.everyInterval(150)){let t=20,s=200,i=Math.floor(Math.random()*(s-t+1)+t),e=120,h=Math.floor(Math.random()*e+e);this.renderPipe(this.canvas.width,0,40,i,this.ctx,"./assets/images/pipe2.png"),this.renderPipe(this.canvas.width-5,i,50,10,this.ctx,"./assets/images/pipe1.png"),this.renderPipe(this.canvas.width,150+h,40,this.canvas.height-150-h,this.ctx,"./assets/images/pipe2.png"),this.renderPipe(this.canvas.width-5,150+h,50,10,this.ctx,"./assets/images/pipe1.png")}}};document.addEventListener("DOMContentLoaded",()=>{var t=document.getElementById("myCanvas"),s=t.getContext("2d");new r(s,t)})}]);
//# sourceMappingURL=bundle.js.map